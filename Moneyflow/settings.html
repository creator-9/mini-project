<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings - Finance Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
      }
    </style>
  </head>
  <body class="bg-black text-white">
    <div class="min-h-screen w-full bg-black flex">
      <!-- SIDEBAR -->
      <aside
        id="sidebar"
        class="hidden fixed md:sticky md:flex w-64 h-screen bg-zinc-900 border-r border-zinc-800 flex-col transition-all duration-300 z-50 top-0 left-0"
      >
        <div class="p-6 border-b border-zinc-800">
          <h2 class="text-xl font-semibold text-white">Menu</h2>
        </div>
        <nav class="flex-1 p-4 space-y-2 overflow-y-auto">
          <a
            href="dashboard.html"
            class="block px-4 py-2 text-zinc-400 rounded-lg hover:bg-zinc-800 hover:text-white transition"
            >Dashboard</a
          >
          <a
            href="budget.html"
            class="block px-4 py-2 text-zinc-400 rounded-lg hover:bg-zinc-800 hover:text-white transition"
            >Budget</a
          >
          <a
            href="analytics.html"
            class="block px-4 py-2 text-zinc-400 rounded-lg hover:bg-zinc-800 hover:text-white transition"
            >Analytics</a
          >
          <a
            href="transacition.html"
            class="block px-4 py-2 text-zinc-400 rounded-lg hover:bg-zinc-800 hover:text-white transition"
            >Transactions</a
          >
          <a
            href="settings.html"
            class="block px-4 py-2 bg-zinc-800 text-white rounded-lg"
            >Settings</a
          >
        </nav>
        <button
          id="closeSidebar"
          class="md:hidden m-4 px-4 py-2 bg-zinc-800 text-white rounded-lg"
        >
          Close
        </button>
      </aside>

      <!-- OVERLAY FOR MOBILE -->
      <div
        id="sidebarOverlay"
        class="hidden fixed inset-0 bg-black/50 z-40 md:hidden"
      ></div>

      <!-- MAIN CONTENT -->
      <main class="flex-1 p-4 md:p-8 w-full overflow-y-auto">
        <!-- HEADER -->
        <div class="mb-8">
          <div
            class="flex items-start gap-4 md:items-center md:justify-between"
          >
            <!-- MOBILE HAMBURGER -->
            <button
              id="openSidebar"
              class="p-2 rounded-md bg-zinc-900 border border-zinc-800 text-white md:hidden flex-shrink-0"
            >
              <svg
                class="w-6 h-6"
                stroke="currentColor"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-width="2"
                  stroke-linecap="round"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
            </button>

            <!-- TITLE -->
            <div class="pt-1 flex-1">
              <h1 class="text-2xl md:text-3xl font-semibold text-white mb-1">
                Settings
              </h1>
              <p class="text-zinc-400">
                Manage your account preferences and application settings
              </p>
            </div>
          </div>
        </div>

        <!-- PROFILE CARD -->
        <div class="bg-zinc-900 border border-zinc-800 rounded-lg p-6 mb-8">
          <div class="flex items-center gap-4">
            <div
              id="profileAvatar"
              class="w-16 h-16 rounded-full bg-zinc-800 flex items-center justify-center text-2xl font-semibold"
            >
              U
            </div>
            <div>
              <div id="profileName" class="text-lg font-semibold text-white">
                User Account
              </div>
              <div id="profileEmail" class="text-sm text-zinc-400">
                user@example.com
              </div>
              <div class="text-xs text-zinc-500 mt-1">
                üìÖ Member since <span id="memberDate">Recently</span>
              </div>
            </div>
          </div>
        </div>

        <!-- SETTINGS ACTIONS -->
        <div class="space-y-3">
          <!-- SIGN OUT -->
          <button
            id="logoutBtn"
            class="w-full bg-zinc-900 border border-zinc-800 rounded-lg p-6 hover:border-zinc-700 transition flex items-center justify-between"
          >
            <div class="flex items-center gap-4 text-left">
              <div class="text-2xl">üö™</div>
              <div>
                <h3 class="font-semibold text-white">Sign Out</h3>
                <p class="text-sm text-zinc-400">Sign out of your account</p>
              </div>
            </div>
            <svg
              class="w-5 h-5 text-zinc-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-width="2"
                stroke-linecap="round"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </button>

          <!-- REPORT ISSUE -->
          <button
            id="reportBtn"
            class="w-full bg-zinc-900 border border-zinc-800 rounded-lg p-6 hover:border-zinc-700 transition flex items-center justify-between"
          >
            <div class="flex items-center gap-4 text-left">
              <div class="text-2xl">üêõ</div>
              <div>
                <h3 class="font-semibold text-white">Report Issue</h3>
                <p class="text-sm text-zinc-400">
                  Report bugs or request features
                </p>
              </div>
            </div>
            <svg
              class="w-5 h-5 text-zinc-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-width="2"
                stroke-linecap="round"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </button>

          <!-- CONTACT SUPPORT -->
          <button
            id="contactBtn"
            class="w-full bg-zinc-900 border border-zinc-800 rounded-lg p-6 hover:border-zinc-700 transition flex items-center justify-between"
          >
            <div class="flex items-center gap-4 text-left">
              <div class="text-2xl">üí¨</div>
              <div>
                <h3 class="font-semibold text-white">Contact Support</h3>
                <p class="text-sm text-zinc-400">
                  Get help from our support team
                </p>
              </div>
            </div>
            <svg
              class="w-5 h-5 text-zinc-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-width="2"
                stroke-linecap="round"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </button>
        </div>

        <!-- DANGER ZONE -->
        <div class="mt-8 pt-8 border-t border-zinc-800">
          <h3 class="text-sm font-semibold text-red-400 mb-2">Danger Zone</h3>
          <p class="text-xs text-zinc-500 mb-4">Irreversible actions</p>

          <button
            id="deleteBtn"
            class="w-full bg-red-500/10 border border-red-500/30 rounded-lg p-6 hover:border-red-500/50 transition flex items-center justify-between"
          >
            <div class="flex items-center gap-4 text-left">
              <div class="text-2xl">üóëÔ∏è</div>
              <div>
                <h3 class="font-semibold text-white">Delete Account</h3>
                <p class="text-sm text-zinc-400">
                  Permanently delete your account and data
                </p>
              </div>
            </div>
            <svg
              class="w-5 h-5 text-red-400"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-width="2"
                stroke-linecap="round"
                d="M9 5l7 7-7 7"
              ></path>
            </svg>
          </button>
        </div>
      </main>
    </div>

    <!-- LOGOUT CONFIRMATION MODAL -->
    <div
      id="logoutModal"
      class="hidden fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4"
    >
      <div
        class="bg-zinc-900 border border-zinc-800 rounded-lg p-6 max-w-sm w-full"
      >
        <div class="text-4xl text-center mb-4">üö™</div>
        <h3 class="text-xl font-semibold text-white text-center mb-2">
          Sign Out?
        </h3>
        <p class="text-zinc-400 text-center mb-6">
          Are you sure you want to sign out of your account?
        </p>
        <div class="flex gap-3">
          <button
            id="cancelLogoutBtn"
            class="flex-1 px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg hover:bg-zinc-700 transition"
          >
            Cancel
          </button>
          <button
            id="confirmLogoutBtn"
            class="flex-1 px-4 py-2 bg-white text-black font-medium rounded-lg hover:bg-zinc-100 transition"
          >
            Sign Out
          </button>
        </div>
      </div>
    </div>

    <!-- DELETE ACCOUNT MODAL -->
    <div
      id="deleteModal"
      class="hidden fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4"
    >
      <div
        class="bg-zinc-900 border border-zinc-800 rounded-lg p-6 max-w-sm w-full"
      >
        <div class="text-4xl text-center mb-4">‚ö†Ô∏è</div>
        <h3 class="text-xl font-semibold text-white text-center mb-2">
          Delete Account?
        </h3>
        <p class="text-zinc-400 text-center mb-6">
          Are you sure you want to delete your account? This action cannot be
          undone.
        </p>
        <div class="flex gap-3">
          <button
            id="cancelDeleteBtn"
            class="flex-1 px-4 py-2 bg-zinc-800 border border-zinc-700 text-white rounded-lg hover:bg-zinc-700 transition"
          >
            Cancel
          </button>
          <button
            id="confirmDeleteBtn"
            class="flex-1 px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition"
          >
            Delete
          </button>
        </div>
      </div>
    </div>

    <script>
      // DOM Elements
      const sidebar = document.getElementById("sidebar");
      const sidebarOverlay = document.getElementById("sidebarOverlay");
      const openSidebarBtn = document.getElementById("openSidebar");
      const closeSidebarBtn = document.getElementById("closeSidebar");

      const logoutBtn = document.getElementById("logoutBtn");
      const reportBtn = document.getElementById("reportBtn");
      const contactBtn = document.getElementById("contactBtn");
      const deleteBtn = document.getElementById("deleteBtn");

      const logoutModal = document.getElementById("logoutModal");
      const deleteModal = document.getElementById("deleteModal");
      const cancelLogoutBtn = document.getElementById("cancelLogoutBtn");
      const confirmLogoutBtn = document.getElementById("confirmLogoutBtn");
      const cancelDeleteBtn = document.getElementById("cancelDeleteBtn");
      const confirmDeleteBtn = document.getElementById("confirmDeleteBtn");

      let isSidebarOpen = false;

      // User data
      let currentUser = {
        username: "John Doe",
        email: "john@example.com",
        createdAt: "2024-01-15",
      };

      // SIDEBAR FUNCTIONS
      const openSidebar = () => {
        sidebar.classList.remove("hidden");
        sidebarOverlay.classList.remove("hidden");
        isSidebarOpen = true;
      };

      const closeSidebar = () => {
        sidebar.classList.add("hidden");
        sidebarOverlay.classList.add("hidden");
        isSidebarOpen = false;
      };

      // EVENT LISTENERS FOR SIDEBAR
      openSidebarBtn.addEventListener("click", openSidebar);
      closeSidebarBtn.addEventListener("click", closeSidebar);
      sidebarOverlay.addEventListener("click", closeSidebar);

      // LOGOUT HANDLER
      logoutBtn.addEventListener("click", () => {
        logoutModal.classList.remove("hidden");
      });

      cancelLogoutBtn.addEventListener("click", () => {
        logoutModal.classList.add("hidden");
      });

      confirmLogoutBtn.addEventListener("click", () => {
        console.log("Logging out...");
        window.location.href = "login.html";
      });

      // REPORT BUG HANDLER
      reportBtn.addEventListener("click", () => {
        window.open("https://github.com", "_blank");
      });

      // CONTACT SUPPORT HANDLER
      contactBtn.addEventListener("click", () => {
        console.log("Opening contact support...");
        alert("Support email: support@financeflow.com");
      });

      // DELETE ACCOUNT HANDLER
      deleteBtn.addEventListener("click", () => {
        deleteModal.classList.remove("hidden");
      });

      cancelDeleteBtn.addEventListener("click", () => {
        deleteModal.classList.add("hidden");
      });

      confirmDeleteBtn.addEventListener("click", () => {
        console.log("Deleting account...");
        alert("Account deleted successfully");
        window.location.href = "login.html";
      });

      // MODAL OVERLAY CLICK HANDLERS
      logoutModal.addEventListener("click", (e) => {
        if (e.target === logoutModal) {
          logoutModal.classList.add("hidden");
        }
      });

      deleteModal.addEventListener("click", (e) => {
        if (e.target === deleteModal) {
          deleteModal.classList.add("hidden");
        }
      });

      // INITIALIZE USER DATA
      function initializeUserData() {
        // Update profile info
        const initial = currentUser.username
          ? currentUser.username.charAt(0).toUpperCase()
          : "U";
        document.getElementById("profileAvatar").textContent = initial;
        document.getElementById("profileName").textContent =
          currentUser.username || "User Account";
        document.getElementById("profileEmail").textContent =
          currentUser.email || "user@example.com";

        // Update member since date
        if (currentUser.createdAt) {
          const date = new Date(currentUser.createdAt);
          const memberSince = date.toLocaleDateString("en-US", {
            month: "long",
            year: "numeric",
          });
          document.getElementById("memberDate").textContent = memberSince;
        }
      }

      // Initialize on page load
      initializeUserData();
    </script>
  </body>
</html>
